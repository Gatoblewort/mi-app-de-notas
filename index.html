<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickNotes Pro - Gesti칩n Avanzada de Notas</title>
    <link rel="stylesheet" href="style.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header-top">
            <h1><i class="fas fa-sticky-note"></i> QuickNotes Pro</h1>
            <div class="header-controls">
                <div class="action-buttons">
                    <button id="openVoiceModalBtn" class="voice-btn" title="Grabar Nueva Nota de Voz">
                        <i class="fas fa-microphone"></i> Nueva Voz
                    </button>
                    <button id="openModalBtn" class="primary-btn" title="Crear Nueva Nota">
                        <i class="fas fa-plus"></i> Nueva Nota
                    </button>
                </div>
                <button id="themeToggleBtn" class="theme-btn" title="Cambiar Tema">
                    <i class="fas fa-sun"></i>
                </button>
            </div>
        </header>

        <div class="notes-stats">
            <span><i class="fas fa-list-ul"></i> Total de Notas: <strong id="totalNotesCount">0</strong></span>
            <span><i class="fas fa-star"></i> Favoritas: <strong id="favoriteNotesCount">0</strong></span>
            <span><i class="fas fa-file-alt"></i> Con Archivos: <strong id="fileNotesCount">0</strong></span>
            <span><i class="fas fa-microphone"></i> Notas de Voz: <strong id="voiceNotesCount">0</strong></span>
        </div>
        
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Buscar notas por t칤tulo o contenido...">
            <div class="search-filters">
                <select id="categoryFilter" title="Filtrar por Categor칤a">
                    <option value="all">Todas las Categor칤as</option>
                </select>
                <button id="clearFiltersBtn" class="clear-btn" title="Limpiar Filtros">
                    <i class="fas fa-times"></i> Limpiar
                </button>
            </div>
        </div>

        <div id="notesContainer" class="notes-container">
            <div id="emptyState" class="empty-state" style="display: none;">
                <div class="icon">游닇</div>
                <h3>춰Crea tu primera nota!</h3>
                <p>Parece que a칰n no tienes ninguna nota. Utiliza el bot칩n "Nueva Nota" para empezar a organizar tus ideas.</p>
                <button id="emptyStateCreateBtn">Crear Nueva Nota</button>
            </div>
        </div>
    </div>

    <div id="noteModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModalBtn">&times;</span>
            <h2 id="modalTitle">Crear Nueva Nota</h2>
            
            <form id="noteForm">
                <div class="modal-section">
                    <label for="noteTitle">T칤tulo:</label>
                    <input type="text" id="noteTitle" maxlength="100" placeholder="T칤tulo de la nota (m치x 100 caracteres)" required>
                </div>
                
                <div class="modal-section">
                    <label for="noteContent">Contenido:</label>
                    <textarea id="noteContent" rows="5" maxlength="500" placeholder="Escribe el contenido de tu nota (m치x 500 caracteres)"></textarea>
                </div>
                
                <div class="modal-section">
                    <label>Color de la Nota:</label>
                    <div class="color-selector" id="colorSelector">
                        <div class="color-option white active" data-color="white" style="background-color: var(--bg-secondary);"></div>
                        <div class="color-option yellow" data-color="yellow" style="background-color: #FFC107;"></div>
                        <div class="color-option pink" data-color="pink" style="background-color: #E91E63;"></div>
                        <div class="color-option blue" data-color="blue" style="background-color: #2196F3;"></div>
                        <div class="color-option green" data-color="green" style="background-color: #4CAF50;"></div>
                        <div class="color-option purple" data-color="purple" style="background-color: #9C27B0;"></div>
                    </div>
                </div>

                <div class="modal-section">
                    <label for="noteCategory">Categor칤a:</label>
                    <input list="categoriesList" id="noteCategory" placeholder="Escribe o selecciona una categor칤a">
                    <datalist id="categoriesList">
                        </datalist>
                </div>

                <div class="modal-section">
                    <label for="noteFiles">Adjuntar Archivos (Im치genes, PDF, etc.):</label>
                    <input type="file" id="noteFiles" multiple accept=".pdf, .doc, .docx, .jpg, .jpeg, .png, .gif, .mp3, .mp4">
                    <p class="file-types-info">M치ximo 5 archivos, 2MB c/u. Tipos: imagen, documento, audio/video.</p>
                    <div id="filesPreview" class="files-preview">
                        </div>
                    <div id="existingFilesPreview" class="files-preview">
                        </div>
                </div>

                <div class="modal-section" id="voiceAttachmentSection" style="display: none;">
                    <label>Nota de Voz Adjunta:</label>
                    <div class="attachment" id="existingVoiceAttachment">
                        </div>
                    <button type="button" class="delete-btn" id="removeExistingVoiceBtn" style="margin-top: 10px; display: none;">
                        <i class="fas fa-trash"></i> Quitar Audio
                    </button>
                </div>

                <div class="modal-actions">
                    <button type="submit" id="saveNoteBtn" class="primary-btn">
                        <i class="fas fa-save"></i> Guardar Nota
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="voiceRecorderModal" class="modal">
        <div class="modal-content voice-recorder">
            <span class="close" id="closeVoiceModalBtn">&times;</span>
            <div class="recorder-container">
                <h3><i class="fas fa-microphone"></i> Grabadora de Nota de Voz</h3>
                
                <div class="recorder-display">
                    <div id="audioVisualizer" class="recorder-visualizer">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                    
                    <div id="recorderTime" class="recorder-time">00:00</div>
                    <div id="recorderStatus" class="recorder-status">Listo para grabar</div>
                    
                    <audio id="audioPreview" controls style="display: none;"></audio> 
                </div>

                <div class="recorder-controls">
                    <button id="recordBtn" class="record-btn" title="Iniciar Grabaci칩n">
                        <i class="fas fa-circle"></i> Grabar
                    </button>
                    <button id="stopBtn" class="stop-btn" title="Detener Grabaci칩n" disabled>
                        <i class="fas fa-stop"></i> Detener
                    </button>
                    <button id="playBtn" class="play-btn" title="Reproducir Grabaci칩n" disabled>
                        <i class="fas fa-play"></i> Reproducir
                    </button>
                    <button id="saveVoiceBtn" class="save-btn" title="Guardar Nota de Voz" disabled>
                        <i class="fas fa-upload"></i> Guardar
                    </button>
                    <button id="cancelVoiceBtn" class="cancel-btn" title="Cancelar y Borrar">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>