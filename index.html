<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Meta Tags para Android -->
    <meta name="theme-color" content="#4CAF50">
    <meta name="description" content="AplicaciÃ³n de notas personales - Guarda tus ideas en cualquier dispositivo">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="true">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Meta Tags para Windows -->
    <meta name="msapplication-TileColor" content="#4CAF50">
    <meta name="msapplication-TileImage" content="icon-144.png">
    <meta name="msapplication-config" content="none">
    <meta name="application-name" content="Mis Notas App">
    
    <!-- Meta Tags Generales PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <title>Mis Notas App</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body class="light-mode">
    <div class="container">
        <header>
            <div class="header-top">
                <h1>ğŸ“ Mis Notas</h1>
                <div class="header-controls">
                    <button id="themeToggle" class="theme-btn" title="Cambiar tema">ğŸŒ™</button>
                    <div class="action-buttons">
                        <button id="addNoteBtn" class="primary-btn">+ Nueva Nota</button>
                        <button id="addVoiceNoteBtn" class="voice-btn">ğŸ¤ Nota de Voz</button>
                    </div>
                </div>
            </div>
            
            <!-- Barra de bÃºsqueda -->
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="ğŸ” Buscar en notas...">
                <div class="search-filters">
                    <select id="categoryFilter">
                        <option value="all">Todas las notas</option>
                        <option value="favorites">â­ Favoritas</option>
                        <option value="text">ğŸ“ Solo texto</option>
                        <option value="voice">ğŸ¤ Notas de voz</option>
                        <option value="file">ğŸ“ Con archivos</option>
                        <option value="image">ğŸ–¼ï¸ Con imÃ¡genes</option>
                        <option value="white">ğŸ“„ Blanca</option>
                        <option value="yellow">ğŸ’› Amarilla</option>
                        <option value="pink">ğŸ’— Rosa</option>
                        <option value="blue">ğŸ’™ Azul</option>
                        <option value="green">ğŸ’š Verde</option>
                        <option value="purple">ğŸ’œ Morada</option>
                    </select>
                    <button id="clearSearch" class="clear-btn">Limpiar</button>
                </div>
            </div>
        </header>
        
        <div class="notes-stats">
            <span id="notesCount">0 notas</span>
            <span id="favoritesCount">0 favoritas</span>
            <span id="voiceNotesCount">0 de voz</span>
        </div>
        
        <!-- Grabadora de voz -->
        <div id="voiceRecorder" class="voice-recorder" style="display: none;">
            <div class="recorder-container">
                <h3>ğŸ¤ Grabando nota de voz</h3>
                <div class="recorder-display">
                    <div class="recorder-visualizer" id="visualizer">
                        <div class="bar"></div><div class="bar"></div><div class="bar"></div>
                        <div class="bar"></div><div class="bar"></div><div class="bar"></div>
                        <div class="bar"></div><div class="bar"></div><div class="bar"></div>
                    </div>
                    <div class="recorder-time" id="recordingTime">00:00</div>
                    <div class="recorder-status" id="recorderStatus">Preparado para grabar...</div>
                </div>
                <div class="recorder-controls">
                    <button id="startRecording" class="record-btn">ğŸ¤ Comenzar</button>
                    <button id="stopRecording" class="stop-btn" disabled>â¹ï¸ Detener</button>
                    <button id="playRecording" class="play-btn" disabled>â–¶ï¸ Reproducir</button>
                    <button id="saveRecording" class="save-btn" disabled>ğŸ’¾ Guardar</button>
                    <button id="cancelRecording" class="cancel-btn">âŒ Cancelar</button>
                </div>
                <audio id="audioPreview" controls style="display: none; margin-top: 15px;"></audio>
            </div>
        </div>
        
        <div class="notes-container" id="notesContainer">
            <!-- Las notas se agregarÃ¡n aquÃ­ dinÃ¡micamente -->
        </div>
    </div>

    <!-- Modal para crear/editar notas -->
    <div id="noteModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalTitle">Nueva Nota</h2> 
            
            <input type="text" id="noteTitle" placeholder="TÃ­tulo de la nota...">
            <textarea id="noteContent" placeholder="Escribe tu nota aquÃ­..." rows="6"></textarea>

            <div class="modal-section">
                <label>Color de la nota:</label>
                <div class="color-selector">
                    <span class="color-option active" data-color="white" style="background-color: #ffffff;" title="Blanca">ğŸ“„</span>
                    <span class="color-option" data-color="yellow" style="background-color: #fff9a3;" title="Amarilla">ğŸ’›</span>
                    <span class="color-option" data-color="pink" style="background-color: #ffadb6;" title="Rosa">ğŸ’—</span>
                    <span class="color-option" data-color="blue" style="background-color: #a3d2ff;" title="Azul">ğŸ’™</span>
                    <span class="color-option" data-color="green" style="background-color: #b0ffad;" title="Verde">ğŸ’š</span>
                    <span class="color-option" data-color="purple" style="background-color: #e0b0ff;" title="Morada">ğŸ’œ</span>
                </div>
            </div>

            <div class="modal-section">
                <label for="noteFiles">Agregar archivos (imÃ¡genes, PDF, documentos):</label>
                <input type="file" id="noteFiles" accept="image/*,.pdf,.doc,.docx,.txt,.mp3,.wav" multiple>
                <div class="file-types-info">
                    <small>Formatos soportados: JPEG, PNG, PDF, DOC, TXT, MP3, WAV (MÃ¡x. 5MB c/u)</small>
                </div>
                <div id="filesPreview" class="files-preview"></div>
            </div>
            
            <div class="modal-actions">
                <button type="button" id="saveNoteBtn" class="save-btn">ğŸ’¾ Guardar Nota</button>
            </div>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    <script src="app.js"></script>
</body>
</html>